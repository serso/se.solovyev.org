<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>se.solovyev - CV</title>

    <script type="text/javascript" src="/resources/js/jquery-1.6.1.js"></script>
    <script type="text/javascript" src="/resources/js/jquery.countdown.package-1.5.9/jquery.countdown.pack.js"></script>
    <script type="text/javascript" src="/resources/js/syntaxhighlighter/shCore.js"></script>
    <script type="text/javascript" src="/resources/js/syntaxhighlighter/shBrushXml.js"></script>
    <script type="text/javascript" src="/resources/js/syntaxhighlighter/shBrushJava.js"></script>

    <script type="text/javascript">
        if (jQuery) {
            $(document).ready(function () {
                // syntax highlighting
                SyntaxHighlighter.all();

                // slided content
                $(".slided_content").hide();

                $("a.slided").click(
                        function (event) {

                            // Prevent the default event.
                            event.preventDefault();


                            var nextSibling = $(this).next();

                            // Toggle the slide based on its current
                            // visibility.
                            if (nextSibling.is(":visible")) {

                                // Hide - slide up.
                                nextSibling.slideUp(500);

                            } else {

                                // Show - slide down.
                                nextSibling.slideDown(500);

                            }
                        }
                );
            });
        }

    </script>

    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-24192724-1']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();

    </script>

    <link rel="stylesheet" href="/resources/js/jquery.countdown.package-1.5.9/jquery.countdown.css"/>
    <link rel='stylesheet' href='http://fonts.googleapis.com/css?family=Crimson+Text:regular,600&v1' type='text/css'>

    <link rel="stylesheet" href="/resources/css/main.css" type="text/css"/>
    <link rel="stylesheet" href="/resources/css/syntaxhighlighter/shCore.css" type="text/css"/>
    <link rel="stylesheet" href="/resources/css/syntaxhighlighter/shCoreDefault.css" type="text/css"/>

    <link rel="shortcut icon" href="/resources/images/favicon.ico" type="image/x-icon"/>

</head>
<body>

<div id="page">
<div id="container">
<div id="header">
    <div id="se_solovyev_img">
        <a href="/" class="nohover">
            <img src="/resources/images/header.png" alt="se.solovyev" height="202" width="879" border="0">
        </a>
    </div>
</div>
<div id="center">
<div id="content">

<h2>Java Common Library</h2>

<h3>Contents</h3>

<div class="left">

    <dl>

        <dt>1.</dt>
        <dd><a href="#about">About</a></dd>

        <dt>2.</dt>
        <dd><a href="#installation">Installation</a></dd>

        <dt>3.</dt>
        <dd><a href="#components">Components</a></dd>

        <dt>3.1</dt>
        <dd><a href="#components_core" style="margin-left: 1em">Core</a></dd>

        <dt>3.2</dt>
        <dd><a href="#components_text" style="margin-left: 1em">Text</a></dd>

        <dt>3.3</dt>
        <dd><a href="#components_msg" style="margin-left: 1em">Message</a></dd>

        <dt>3.4</dt>
        <dd><a href="#components_listeners" style="margin-left: 1em">Listeners</a></dd>

        <dt>3.5</dt>
        <dd><a href="#components_security" style="margin-left: 1em">Security</a></dd>

        <dt>3.6</dt>
        <dd><a href="#components_tree" style="margin-left: 1em">Tree</a></dd>

        <dt>3.7</dt>
        <dd><a href="#components_multiset" style="margin-left: 1em">Multi Set</a></dd>

        <dt>3.8</dt>
        <dd><a href="#components_core_jodatime" style="margin-left: 1em">Core Joda-time</a></dd>

        <dt>4.</dt>
        <dd><a href="#source_code">Source code</a></dd>

        <dt>5.</dt>
        <dd><a href="#contributors">Contributors</a></dd>

        <dt>6.</dt>
        <dd><a href="#license">License</a></dd>

    </dl>
</div>

<h3><span id="about">About</span></h3>

<div class="left">

    <dl>

        <dt></dt>
        <dd>
            Java Common Library (JCL) is an open source Java library written due to several reasons:
            <ol>
                <li>To provide classes which are missing in JDK (or other well know libraries like Guava)</li>
                <li>To fix the mistakes which have been done in JDK (e.g. Cloneable without clone())</li>
                <li>To provide different utility classes which can be used quite often</li>
            </ol>
        </dd>

    </dl>
</div>

<h3><span id="installation">Installation</span></h3>

<div class="left">

    <dl>

        <dt></dt>
        <dd>
            There are three different ways of installation the library:
            <ol>
                <li>Binary jars and source code archives can be downloaded <a target="_blank"
                                                                              href="https://oss.sonatype.org/content/repositories/releases/org/solovyev/">here</a>
                </li>
                <li>Source code can be cloned from github repository (see <a href="#source_code">Source Code</a>
                    section) and built manually
                </li>
                <li>Maven users can just add dependency in pom.xml:
                        <pre class="brush: xml">
&lt;!-- all modules --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.solovyev&lt;/groupId&gt;
    &lt;artifactId&gt;common-all&lt;/artifactId&gt;
    &lt;version&gt;LATEST_VERSION&lt;/version&gt;
&lt;/dependency&gt;
                        </pre>
                </li>
            </ol>
        </dd>

    </dl>
</div>

<h3><span id="components">Components</span></h3>

<div class="left">

    <dl>

        <dt></dt>
        <dd>
            JCL contains several loosely coupled components:
        </dd>

        <dt>Core</dt>
        <dd>
            Basic classes and interfaces. <a href="#components_core">More...</a>
        </dd>

        <dt>Text</dt>
        <dd>
            Strings and everything related to them: mappers, formatters, parsers. <a href="#components_text">More...</a>
        </dd>

        <dt>Message</dt>
        <dd>
            Contains interface and abstract implementation for translatable message. <a
                href="#components_msg">More...</a>
        </dd>

        <dt>Listeners</dt>
        <dd>
            Contains classes related to Listener/Observer pattern. <a href="#components_listeners">More...</a>
        </dd>

        <dt>Security</dt>
        <dd>
            Contains security abstraction over javax.crypto package. <a href="#components_security">More...</a>
        </dd>

        <dt>Tree</dt>
        <dd>
            Contains interface and implementation for tree data structure missing in JDK and Guava. <a
                href="#components_tree">More...</a>
        </dd>

        <dt>Multiset</dt>
        <dd>
            Contains interface and implementation for multiset data structure (Note: Guava has own implementation of
            Multiset). <a href="#components_multiset">More...</a>
        </dd>

        <dt>Core Joda-time</dt>
        <dd>
            Contains several core classes which depend on joda-time library. <a
                href="#components_core_jodatime">More...</a>
        </dd>


    </dl>
</div>

<h3><span id="components_core">Component: Core</span></h3>

<div class="left">
    <dl>
        <dt>Description</dt>
        <dd>
            This component contains several classes and interfaces which can be useful in any Java program.
        </dd>
        <dt>Sources</dt>
        <dd>
            <a href="https://github.com/serso/common/tree/master/core/src/main/java/org/solovyev/common">https://github.com/serso/common/tree/master/core/src/main/java/org/solovyev/common</a>
        </dd>
        <dt>Installation</dt>
        <dd>
                                        <pre class="brush: xml">
&lt;dependency&gt;
    &lt;groupId&gt;org.solovyev&lt;/groupId&gt;
    &lt;artifactId&gt;common-core&lt;/artifactId&gt;
    &lt;version&gt;LATEST_VERSION&lt;/version&gt;
&lt;/dependency&gt;
                        </pre>
        </dd>

        <dt>Usage</dt>
        <dd>&nbsp;</dd>
        <dt>JObject/JCloneable</dt>
        <dd>
            <span class="source_link">JObject</span> class implements <span class="source_link">Cloneable</span>
            interface and
            overrides method <span class="source_link">clone()</span> without throwing <span class="source_link">CloneNotSupportedException</span>.
            This is the default behaviour which must be provided by JDK (see "Effective Java 2nd Edition, Item 11:
            Override clone judiciously").
            You can put this class at the top of your class hierarchy to make clone() implementation easier.
            <strong>Note:</strong> this class can be effectively used in conjunction with <span class="source_link">JCloneable.</span><br/>
            <span class="source_link">JCloneable</span> interface extends <span class="source_link">Cloneable</span> and
            declares <span class="source_link">clone()</span> method. This allows user to implement collections (or
            other containers) with deep clone support (see <span class="source_link">Cloneables</span> class).<br/><br/>
            <span class="source_example_title">Example: cloneable object</span><br/>
            <pre class="brush: java">
public class IntervalImpl&lt;T extends Comparable&lt;T&gt;&gt; extends JObject implements Interval&lt;T&gt;, JCloneable&lt;Interval&lt;T&gt;&gt; {

    @NotNull
    @Override
    public IntervalImpl&lt;T&gt; clone() {
        final IntervalImpl&lt;T&gt; clone = (IntervalImpl&lt;T&gt;) super.clone();

        clone.left = this.left.clone();
        clone.right = this.right.clone();

        return clone;
    }
}
            </pre>
            <br/>
            <span class="source_example_title">Example: cloning the list</span><br/>
                    <pre class="brush: java">
final List&lt;Interval&lt;Integer&gt;&gt; intervals = new ArrayList&lt;Interval&lt;Integer&gt;&gt;();
intervals.add(Intervals.newClosed(10, 20));
intervals.add(Intervals.newClosed(-10, 20));
intervals.add(Intervals.newClosed(10, 520));

final List&lt;Interval&lt;Integer&gt;&gt; intervalsCopy = Cloneables.cloneList(intervals);
            </pre>
        <dt>JPredicate</dt>
        <dd><span class="source_link">JPredicate</span> is a copy of Guava's <span class="source_link">Predicate</span>
            and can be used in the same manner (e.g. for filtering, search, etc).
            See <span class="source_link">Collections</span>.<br/>
            <br/><span class="source_example_title">Example: equality filter</span><br/>
<pre class="brush: java">
public class EqualsFilter&lt;T&gt; implements JPredicate&lt;T&gt; {

    @NotNull
    private final T filterObject;

    public EqualsFilter(@NotNull T filterObject) {
        this.filterObject = filterObject;
    }

    @Override
    public boolean apply(T object) {
        return Objects.areEqual(filterObject, object);
    }
}
</pre>
            <br/><span class="source_example_title">Example: usage in TreeNode</span><br/>
<pre class="brush: java">
MutableTreeNode&lt;T&gt; result = this.findOwnChild(new JPredicate&lt;TreeNode&lt;T&gt;&gt;() {
        @Override
        public boolean apply(@Nullable TreeNode&lt;T&gt; input) {
            return input != null && data.equals(input.getData());
        }
    });

if ( result == null ) {
    result = this.addChild(data);
}
</pre>
        </dd>
        <dt>SynchronizedObject</dt>
        <dd><span class="source_link">SynchronizedObject</span> class allows to create synchronized objects easily -
            references to synchronized (object which operations should be synchronized) and synchronization (mutex or
            lock) objects are stored in the fields and are accessible for subclasses.<br/>
            <br/><span class="source_example_title">Example: synchronized MessageRegistry</span><br/>
<pre class="brush: java">
class SynchronizedMessageRegistry extends SynchronizedObject&lt;MessageRegistry&gt; implements MessageRegistry {

    private SynchronizedMessageRegistry(@NotNull MessageRegistry delegate) {
        super(delegate);
    }

    @Override
    public void addMessage(@NotNull Message message) {
        synchronized (this.mutex) {
            delegate().addMessage(message);
        }
    }

    @Override
    public boolean hasMessage() {
        synchronized (this.mutex) {
            return delegate().hasMessage();
        }
    }

    @NotNull
    @Override
    public Message getMessage() {
        synchronized (this.mutex) {
            return delegate().getMessage();
        }
    }
}
</pre>
        </dd>
        <dt>MutableObject</dt>
        <dd><span class="source_link">MutableObject</span> might be useful if method should return more than one value
            or if some data should be passed to anonymous class.<br/>
            <br/><span class="source_example_title">Example: passing parameter to anonymous class</span><br/>
<pre class="brush: java">
final MutableObject&lt;Thread&gt; eventThread = new MutableObject&lt;Thread&gt;();
listeners.addListener(new JEventListener&lt;JEvent&gt;() {
    @NotNull
    @Override
    public Class&lt;JEvent&gt; getEventType() {
        return JEvent.class;
    }

    @Override
    public void onEvent(@NotNull JEvent event) {
        eventThread.setObject(Thread.currentThread());
        latch.countDown();
    }
});
</pre>
        </dd>
        <dt>Interval</dt>
        <dd><span class="source_link">Interval</span> represents typed interval. Basic operations like comparison,
            intersection, equality, etc are
            implemented for this class.<br/>
            <br/><span class="source_example_title">Example: interval creation</span><br/>
<pre class="brush: java">
final Interval&lt;Integer&gt; interval1 = Intervals.newClosedInterval(10, 20);
final Interval&lt;Integer&gt; interval2 = Intervals.newClosedInterval(12, 19);
Assert.assertTrue(interval1.contains(interval2));
</pre>
        </dd>
        <dt>Equalizer</dt>
        <dd><span class="source_link">Equalizer</span> - interface for comparing two objects on equality. Allows to
            avoid nullity checking, with
            several useful implementations: <span class="source_link">CollectionEqualizer</span>, <span
                    class="source_link">ListEqualizer</span>,
            <span class="source_link">SameEqualizer</span>, etc<br/>
            <br/><span class="source_example_title">Example: check if two collections are equal</span><br/>
<pre class="brush: java">
if(Objects.areEqual(c1, c2, new CollectionEqualizer&lt;CalculatorHistoryState&gt;(null))){
    // ...
}
</pre>
        </dd>

    </dl>
</div>

<h3><span id="components_text">Component: Text</span></h3>

<div class="left">
    <dl>
        <dt>Description</dt>
        <dd>
            Strings and everything related to them: mappers, formatters, parsers. Might be useful for storing objects in
            persistent storage where only
            limited amount of classes are allowed (<span class="source_link">String</span> is usually among them).
        </dd>
        <dt>Sources</dt>
        <dd>
            <a href="https://github.com/serso/common/tree/master/text/src/main/java/org/solovyev/common/text">https://github.com/serso/common/tree/master/text/src/main/java/org/solovyev/common/text</a>
        </dd>
        <dt>Installation</dt>
        <dd>

                                        <pre class="brush: xml">
&lt;dependency&gt;
    &lt;groupId&gt;org.solovyev&lt;/groupId&gt;
    &lt;artifactId&gt;common-text&lt;/artifactId&gt;
    &lt;version&gt;LATEST_VERSION&lt;/version&gt;
&lt;/dependency&gt;
                        </pre>
        </dd>

        <dt>Usage</dt>
        <dd>&nbsp;</dd>
        <dt>Formatter</dt>
        <dd><span class="source_link">Formatter</span> converts object to string.<br/>
            <br/><span class="source_example_title">Example: enum formatter</span><br/>
<pre class="brush: java">
public class EnumMapper&lt;E extends Enum&gt; implements Mapper&lt;E&gt; {

    // ...
    
    @Override
    public String formatValue(@Nullable E value) throws IllegalArgumentException {
        return value == null ? null : value.name();
    }
}
</pre>
        </dd>

        <dt>Parser</dt>
        <dd><span class="source_link">Parser</span> converts string to object.<br/>
            <br/><span class="source_example_title">Example: enum parser</span><br/>
<pre class="brush: java">
public class EnumMapper&lt;E extends Enum&gt; implements Mapper&lt;E&gt; {

    // ...

    @Override
    public E parseValue(@Nullable String value) throws IllegalArgumentException {
        return value == null ? null : (E) Enum.valueOf(enumClass, value);
    }
}
</pre>
        </dd>

        <dt>Mapper</dt>
        <dd><span class="source_link">Mapper</span> - composition of Parser & Formatter.<br/>
            <br/><span class="source_example_title">Example: boolean mapper</span><br/>
<pre class="brush: java">
public class BooleanMapper implements Mapper&lt;Boolean&gt; {

    public BooleanMapper() {
    }

    @Override
    public String formatValue(@Nullable Boolean value) throws IllegalArgumentException {
        return value == null ? null : value.toString();
    }

    @Override
    public Boolean parseValue(@Nullable String value) throws IllegalArgumentException {
        return value == null ? null : Boolean.valueOf(value);
    }
}
</pre>
        </dd>
    </dl>
</div>

<h3><span id="components_msg">Component: Message</span></h3>

<div class="left">
    <dl>
        <dt>Description</dt>
        <dd>
            This component contains classes for working with translatable messages: message interface, default java
            implementation, message registry, etc.
        </dd>
        <dt>Sources</dt>
        <dd>
            <a href="https://github.com/serso/common/tree/master/msg/src/main/java/org/solovyev/common/msg">https://github.com/serso/common/tree/master/msg/src/main/java/org/solovyev/common/msg</a>
        </dd>
        <dt>Installation</dt>
        <dd>

                                        <pre class="brush: xml">
&lt;dependency&gt;
    &lt;groupId&gt;org.solovyev&lt;/groupId&gt;
    &lt;artifactId&gt;common-msg&lt;/artifactId&gt;
    &lt;version&gt;LATEST_VERSION&lt;/version&gt;
&lt;/dependency&gt;
                        </pre>
        </dd>

        <dt>Usage</dt>
        <dd>&nbsp;</dd>
        <dt>Message</dt>
        <dd><span class="source_link">Message</span> interface represents translatable user message. Different
            implementations of this
            interface use different ways of storing message strings for different locales (e.g. property files,
            database, etc)
            and processing message parameters (though <span class="source_link">java.text.MessageFormat</span> is
            default).
            Also this class can be used in conjunction with <span class="source_link">Exception</span> to provide
            translatable errors.<br/>
            <br/><span class="source_example_title">Example: message usage in Android</span><br/>
<pre class="brush: java">
final String messageText = message.getLocalizedMessage()
Toast.makeText(application, messageText, Toast.LENGTH_SHORT).show();
</pre>
        </dd>
        <dt>AbstractMessage</dt>
        <dd><span class="source_link">AbstractMessage</span> - base class for user defined messages: contains fields for
            message code, message parameters and message level.
            Only one abstract message should be implemented - it should return message pattern (message string with not
            set parameters).<br/>
            <br/><span class="source_example_title">Example: compound message implementation</span><br/>
<pre class="brush: java">
public class CompoundMessage extends AbstractMessage {

	@NotNull
	private final Message compoundMessage;

	private CompoundMessage(@NotNull Message compoundMessage, @NotNull MessageLevel messageLevel, @NotNull List&lt;?&gt; parameters) {
		super(compoundMessage.getMessageCode(), messageLevel, parameters);
		this.compoundMessage = compoundMessage;
	}

	public static CompoundMessage newInstance(@NotNull Message compoundMessage, @NotNull List&lt;? extends Message&gt; messages) {
		MessageLevel messageLevel = MessageType.info;
		for (Message message : messages) {
			messageLevel = Messages.getMessageLevelWithHigherLevel(messageLevel, message.getMessageLevel());
		}
		return new CompoundMessage(compoundMessage, messageLevel, messages);
	}

	@Override
	protected String getMessagePattern(@NotNull Locale locale) {
		final StringBuilder result = new StringBuilder();

		result.append(compoundMessage.getLocalizedMessage(locale)).append("\n");

		for (int i = 0; i &lt; getParameters().size(); i++) {
			if (i != 0) {
				result.append(",\n");
			}
			result.append("{").append(i).append("}");
		}

		return result.toString();
	}
}
</pre>
        </dd>
        <dt>BundleMessage</dt>
        <dd><span class="source_link">BundleMessage</span> is a message which uses <span class="source_link">ResourceBundle</span>
            for message translations.
            See <span class="source_link">Utf8Control</span> class for using UTF-8 encoded properties.<br/>
            <br/><span class="source_example_title">Example: test implementation</span><br/>
<pre class="brush: java">
public class TestBundleMessage extends BundleMessage {

    private TestBundleMessage(@NotNull String messageCode, @NotNull MessageLevel messageLevel, @Nullable Object... parameters) {
        super("org/solovyev/common/msg/messages", Utf8Control.getInstance(), messageCode, messageLevel, parameters);
    }
}
</pre>
        </dd>

        <dt>MessageRegistry</dt>
        <dd><span class="source_link">MessageRegistry</span> is a messages storage. One can add messages to it and get
            messages from it.
            Any type of messages are allowed as it should be irrelevant what implementation is passed.
        </dd>
    </dl>
</div>

<h3><span id="components_listeners">Component: Listeners</span></h3>

<div class="left">
    <dl>
        <dt>Description</dt>
        <dd>
            Contains classes related to Listener/Observer pattern: containers for listeners, event bus, etc.
        </dd>
        <dt>Sources</dt>
        <dd>
            <a href="https://github.com/serso/common/tree/master/listeners/src/main/java/org/solovyev/common/listeners">https://github.com/serso/common/tree/master/listeners/src/main/java/org/solovyev/common/listeners</a>
        </dd>
        <dt>Installation</dt>
        <dd>

                                        <pre class="brush: xml">
&lt;dependency&gt;
    &lt;groupId&gt;org.solovyev&lt;/groupId&gt;
    &lt;artifactId&gt;common-listeners&lt;/artifactId&gt;
    &lt;version&gt;LATEST_VERSION&lt;/version&gt;
&lt;/dependency&gt;
                        </pre>
        </dd>
        <dt>Usage</dt>
        <dd>&nbsp;</dd>
        <dt>JListeners/JEventListeners</dt>
        <dd><span class="source_link">JListeners</span> - container for listeners, all methods in implementation should be synchronized properly.
            Any type of listeners can be stored in it and can be obtained through <span class="source_link">JListeners#getListeners</span>
            or <span class="source_link">JListeners#getListenersOfType</span> methods.<br/>
            <span class="source_link">JEventListeners</span> - container for event listeners (see <span class="source_link">JEventListener</span>), all methods in implementation should be synchronized properly.
            Listeners of different event types can be stored in it, but only those which support type of fired event will receive it by calling <span class="source_link">JEventListener#onEvent</span> method.
            Depending on implementation this class may store hard or weak references to listeners, may run on caller's thread or may have several (or 1) background treads for firing events.<br/>
            <br/><span class="source_example_title">Example: JEventListeners</span><br/>
<pre class="brush: java">
JEventListeners&lt;JEventListener&lt;?&gt;, JEvent&gt; listeners = Listeners.newEventListenersBuilder().onCallerThread().withHardReferences().create();

final TestEventListener1 l1 = new TestEventListener1();
final TestEventListener2 l2 = new TestEventListener2();
final TestEventListener3 l3 = new TestEventListener3();

listeners.addListener(l1);
listeners.addListener(l2);
listeners.addListener(l3);

listeners.fireEvent(new TestEvent1());
</pre>
        </dd>
    </dl>
</div>

<h3><span id="components_security">Component: Security</span></h3>

<div class="left">
    <dl>
        <dt>Description</dt>
        <dd>
            Provides easy-to-use security layer over javax.crypto package.
        </dd>
        <dt>Sources</dt>
        <dd>
            <a href="https://github.com/serso/common/tree/master/security/src/main/java/org/solovyev/common/security">https://github.com/serso/common/tree/master/security/src/main/java/org/solovyev/common/security</a>
        </dd>
        <dt>Installation</dt>
        <dd>

                                        <pre class="brush: xml">
&lt;dependency&gt;
    &lt;groupId&gt;org.solovyev&lt;/groupId&gt;
    &lt;artifactId&gt;common-security&lt;/artifactId&gt;
    &lt;version&gt;LATEST_VERSION&lt;/version&gt;
&lt;/dependency&gt;
                        </pre>
        </dd>
        <dt>Usage</dt>
        <dd>&nbsp;</dd>
        <dt>SecurityService</dt>
        <dd><span class="source_link">SecurityService</span> is an interface which aggregates several security interfaces: <span class="source_link">SaltGenerator</span>, <span class="source_link">HashProvider</span>, <span class="source_link">SecretKeyProvider</span> and <span class="source_link">Cipherer</span>.
            Main idea is that all security interfaces returned by <span class="source_link">SecurityService</span> are supported by each other.
            For example, salt generated by <span class="source_link">SaltGenerator</span> may be used in <span class="source_link">SecretKeyProvider</span>,
            secret key generated by <span class="source_link">SecretKeyProvider</span> can be used in <span class="source_link">Cipherer</span>.<br/>
            <span class="source_link">SecurityService</span> is typed by types of encrypted/decrypted objects which allows to use it for complex classes.<br/>
            <br/><span class="source_example_title">Example: security service in Android</span><br/>
<pre class="brush: java">
final SecurityService&lt;String, String, String&gt; securityService = ASecurity.newAndroidAesStringSecurityService();

final Cipherer&lt;String, String&gt; cipherer = securityService.getCipherer();
final SecretKeyProvider secretKeyProvider = securityService.getSecretKeyProvider();
final SaltGenerator saltGenerator = securityService.getSaltGenerator();
final HashProvider&lt;String, String&gt; hashProvider = securityService.getHashProvider();

final Random r = new Random(new Date().getTime());
for ( int i = 0; i &lt; 100; i++ ) {

    final String expected = Strings.generateRandomString(r.nextInt(1000));

    final SecretKey sk = secretKeyProvider.getSecretKey(Strings.generateRandomString(10), saltGenerator.generateSalt());

    final String encrypted = cipherer.encrypt(sk, expected);
    final String decrypted = cipherer.decrypt(sk, encrypted);

    Assert.assertEquals(expected, decrypted);

    final byte[] hashSalt = saltGenerator.generateSalt();
    final String decryptedHash = hashProvider.getHash(decrypted, hashSalt);
    final String expectedHash = hashProvider.getHash(expected, hashSalt);

    Assert.assertEquals(expectedHash, decryptedHash);
}
</pre>
        </dd>
    </dl>
</div>

<h3><span id="components_tree">Component: Tree</span></h3>

<div class="left">
    <dl>
        <dt>Description</dt>
        <dd>
            Contains classes for working with trees: mutable and immutable interfaces, linked tree implementation.
        </dd>
        <dt>Sources</dt>
        <dd>
            <a href="https://github.com/serso/common/tree/master/collections-tree/src/main/java/org/solovyev/common/collections/tree">https://github.com/serso/common/tree/master/collections-tree/src/main/java/org/solovyev/common/collections/tree</a>
        </dd>
        <dt>Installation</dt>
        <dd>

                                        <pre class="brush: xml">
&lt;dependency&gt;
    &lt;groupId&gt;org.solovyev&lt;/groupId&gt;
    &lt;artifactId&gt;common-collections-tree&lt;/artifactId&gt;
    &lt;version&gt;LATEST_VERSION&lt;/version&gt;
&lt;/dependency&gt;
                        </pre>
        </dd>

        <dt>Usage</dt>
        <dd>&nbsp;</dd>
        <dt>Tree/MutableTree</dt>
        <dd><span class="source_link">Tree</span> - immutable tree, contains root and methods for accessing it's children.<br/>
        <span class="source_link">MutableTree</span> - tree, which can be changed.<br/>
            <br/><span class="source_example_title">Example: tree usage</span><br/>
<pre class="brush: java">
final MutableTree&lt;Integer&gt; result = Trees.newLinkedTree(1);

MutableTreeNode&lt;Integer&gt; root = result.getRoot();
MutableTreeNode&lt;Integer&gt; child2 = root.addChild(2);
MutableTreeNode&lt;Integer&gt; child3 = child2.addChild(3);

final Tree&lt;Integer&gt; unmodifiableTree = Trees.unmodifiableTree(result);
for(TreeNode&lt;Integer&gt; node: unmodifiableTree) {
    System.out.println(node.getValue());
}
</pre>
        </dd>

        <dt>DepthTreeIterator</dt>
        <dd><span class="source_link">DepthTreeIterator</span> - <span class="source_link">TreeIterator</span> which implements depth-first tree traversal algorithm.<br/>
            <br/><span class="source_example_title">Example: depth-first traversal</span><br/>
<pre class="brush: java">
for ( TreeIterator&lt;Integer&gt; it = Trees.newDepthTreeIterator(tree); it.hasNext(); ) {
    final TreeNode&lt;Integer&gt; node  = it.next();
    Assert.assertEquals(node.getDepth(), it.getDepth());
    System.out.println(it.getDepth() + " -&gt;" + node.getValue());
}
</pre>
        </dd>
    </dl>
</div>

<h3><span id="components_multiset">Component: Multi Set</span></h3>

<div class="left">
    <dl>
        <dt>Description</dt>
        <dd>
            Contains classes for working with multi sets. Multi set is a set with duplicates, depending on implementation this class may contain several instances of equal objects or may contain only one instance with counter.
        </dd>
        <dt>Sources</dt>
        <dd>
            <a href="https://github.com/serso/common/tree/master/collections-multiset/src/main/java/org/solovyev/common/collections/multiset">https://github.com/serso/common/tree/master/collections-multiset/src/main/java/org/solovyev/common/collections/multiset</a>
        </dd>
        <dt>Installation</dt>
        <dd>

                                        <pre class="brush: xml">
&lt;dependency&gt;
    &lt;groupId&gt;org.solovyev&lt;/groupId&gt;
    &lt;artifactId&gt;common-collections-multiset&lt;/artifactId&gt;
    &lt;version&gt;LATEST_VERSION&lt;/version&gt;
&lt;/dependency&gt;
                        </pre>
        </dd>
        <dt>Usage</dt>
        <dd>&nbsp;</dd>
        <dt>MultiSet<br/>ManyInstancesMultiSet<br/>OneInstanceMultiSet</dt>
        <dd><span class="source_link">MultiSet</span> - set with duplicates, depending on implementation this class may contain several instances of equal objects (<span class="source_link">ManyInstancesMultiSet</span>)
            or may contain only one instance with counter (<span class="source_link">OneInstanceMultiSet</span>).
            <br/>
            <br/><span class="source_example_title">Example: multi set</span><br/>
<pre class="brush: java">
final MultiSet&lt;String&gt; m = MultiSets.newManyInstancesMultiSet();
// or final MultiSet&lt;String&gt; m = MultiSets.newOneInstanceMultiSet();

Assert.assertEquals(0, m.count("1"));
Assert.assertEquals(0, m.count("2"));
Assert.assertEquals(0, m.count("3"));

m.add("1", 2);
Assert.assertEquals(2, m.count("1"));

m.add("2", 22);
Assert.assertEquals(22, m.count("2"));
</pre>
        </dd>
   </dl>
</div>

<h3><span id="components_core_jodatime">Component: Core Joda-Time</span></h3>

<div class="left">
    <dl>
        <dt>Description</dt>
        <dd>
            Contains several classes for working with joda-time.
        </dd>
        <dt>Sources</dt>
        <dd>
            <a href="https://github.com/serso/common/tree/master/core-jodatime/src/main/java/org/solovyev/common">https://github.com/serso/common/tree/master/core-jodatime/src/main/java/org/solovyev/common</a>
        </dd>
        <dt>Installation</dt>
        <dd>

                                        <pre class="brush: xml">
&lt;dependency&gt;
    &lt;groupId&gt;org.solovyev&lt;/groupId&gt;
    &lt;artifactId&gt;common-core-jodatime&lt;/artifactId&gt;
    &lt;version&gt;LATEST_VERSION&lt;/version&gt;
&lt;/dependency&gt;
                        </pre>
        </dd>
    </dl>
</div>

<h3><span id="source_code">Source Code</span></h3>

<div class="left">

    <dl>

        <dt></dt>
        <dd>
            Source code is available on github: <a target="_blank" href="https://github.com/serso/common">https://github.com/serso/common</a>.<br/>
            Maven users may want to install <strong>javac2-maven-plugin</strong> which can be found in
            <strong>misc</strong> folder (see <a href="https://github.com/serso/common/blob/master/README">README</a>
            for more details).<br/>
            Feel free to participate in development, pull requests are highly appreciated.
        </dd>

    </dl>
</div>

<h3><span id="contributors">Contributors</span></h3>

<div class="left">

    <dl>

        <dt>Name</dt>
        <dd>
            Sergey Solovyev (serso aka se.solovyev)
        </dd>
        <dt>Email</dt>
        <dd>
            se.solovyev@gmail.com
        </dd>
        <dt>Website</dt>
        <dd>
            <a target="_blank" href="http://se.solovyev.org">http://se.solovyev.org</a>
        </dd>
        <dt></dt>
        <dd>
            Project initiator, main contributor.
        </dd>

    </dl>
</div>

<h3><span id="license">License</span></h3>

<div class="left">

    <dl>

        <dt></dt>
        <dd>
            Java Common Library is distributed freely under <a target="_blank"
                                                               href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache
            2.0 License</a>
        </dd>

    </dl>
</div>

</div>
</div>
<div id="footer">
    <a href="/">se.solovyev</a>, 2013
</div>
</div>
</div>

</body>
</html>